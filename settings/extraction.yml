# Extraction settings for feature engineering  

injection_molding:

  upper_workpiece:

    # Extraction configuration for static data from CSV
    static_data:
      use_data: true
      method: ["quality", "target", "actual"] # ["quality", "target", "actual"]
      groups: 
        quality: ["weight"] 
        target: ["T801", "T802", "T803", "T804", "T805", "T806", "T831", "T832", "T833", "T834", "T835", "T836", "T837", "V403", "Q304", "Q305", "V304", "V305", "Q311", "Q312", "Q313", "p311", "p312", "p313", "t311", "t312", "t313"]
        actual: ["T801I", "T802I", "T803I", "T804I", "T805I", "T806I", "T831I", "T832I", "T833I", "T834I", "T835I", "T836I", "T837I", "t4052", "V301I", "t4015", "V4065", "p4055", "p4072", "t4018", "V4062", "t4012"]
        meta: ["t007"]
 
    injection_pressure_target:
      use_series: true
      method: "raw"  # options: "raw", "paa", "pca", "statistic", "tsfresh", "catch22"
      # Additional attributes for the methods (available for all series)
      paa_target_length: 200           # for paa method - target length after aggregation
      pca_n_components: 24             # for pca method - number of principal components
      use_catch24: true                # for catch22 method - include catch24 features (2 extra attributes)
      tsfresh_feature_set: 'efficient' # for tsfresh method - 'minimal', 'efficient', 'comprehensive'
     
    injection_pressure_actual:
      use_series: true
      method: "raw" 

    melt_volume:
      use_series: true
      method: "raw"
      
    injection_velocity:
      use_series: true
      method: "raw"

    state: 
      use_series: false # not used, since also not available for lower workpiece
 

  lower_workpiece:

    # Extraction configuration for static data from CSV
    static_data:
      use_data: true
      method: ["quality", "target", "actual"] # ["quality", "target", "actual"]
      groups: 
        quality: ["weight"] 
        target: ["T801", "T802", "T803", "T804", "T805", "T806", "T831", "T832", "T833", "T834", "T835", "T836", "T837", "V403", "Q304", "Q305", "V304", "V305", "Q311", "Q312", "Q313", "p311", "p312", "p313", "t311", "t312", "t313"]
        actual: ["T801I", "T802I", "T803I", "T804I", "T805I", "T806I", "T831I", "T832I", "T833I", "T834I", "T835I", "T836I", "T837I", "t4052", "V301I", "t4015", "V4065", "p4055", "p4072", "t4018", "V4062", "t4012"]
        meta: ["t007"]

    injection_pressure_target:
      use_series: true
      method: "raw" 

    injection_pressure_actual:
      use_series: true
      method: "raw" 

    melt_volume:
      use_series: true
      method: "raw"
      
    injection_velocity:
      use_series: true
      method: "raw"

    state: 
      use_series: false # not available for lower workpiece 


screw_driving:
  
  left:
    # Metadata extraction configuration
    meta:
      use_data: true
      method: "all"  # Options: null, "all", "process_params", "quality_indicators", "tool_info", "timing", "custom"
      
      # For custom method, specify exact fields to extract
      custom_fields:
        - "nominal torque"
        - "total time"
        - "quality code"
        - "tool serial"
        - "speed"
        - "cycle"

    # Time series extraction (existing functionality)
    torque:
      use_series: true
      method: "raw"  
      
    angle:
      use_series: true
      method: "raw"

    gradient:
      use_series: true
      method: "raw"

    time:
      use_series: false  # Time axis, usually not used as feature
      
    torqueRed:
      use_series: false  # Reduced/derived torque, skip by default
      
    angleRed:
      use_series: false  # Reduced/derived angle, skip by default
      
  right:
    # Metadata extraction configuration
    meta:
      use_data: true
      method: "all" 
      
    # Time series extraction
    torque:
      use_series: true
      method: "raw"  
      
    angle:
      use_series: true
      method: "raw"

    gradient:
      use_series: true
      method: "raw"
      
    time:
      use_series: false  # Time axis, usually not used as feature
      
    torqueRed:
      use_series: false  # Reduced/derived torque, skip by default
      
    angleRed:
      use_series: false  # Reduced/derived angle, skip by default